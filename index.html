<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFFINIXIA | Sovereign Intelligence</title>
    <style>
        :root { --gold: #d4af37; --bg: #000; }
        body { background: var(--bg); color: #fff; font-family: 'Courier New', monospace; margin: 0; padding: 20px; display: flex; flex-direction: column; height: 100vh; }
        header { border-bottom: 1px solid var(--gold); padding-bottom: 10px; margin-bottom: 20px; text-align: center; }
        .founders { font-size: 10px; color: #555; letter-spacing: 2px; }
        #terminal { flex: 1; overflow-y: auto; background: #050505; border: 1px solid #111; padding: 20px; border-radius: 10px; line-height: 1.6; }
        .input-area { margin-top: 20px; display: flex; gap: 10px; }
        input { flex: 1; background: #000; border: 1px solid var(--gold); color: #fff; padding: 15px; border-radius: 5px; outline: none; }
        button { background: var(--gold); border: none; padding: 0 25px; font-weight: bold; cursor: pointer; border-radius: 5px; }
        .user-text { color: #fff; margin-bottom: 10px; }
        .ai-text { color: var(--gold); margin-bottom: 20px; }
    </style>
</head>
<body>

<header>
    <h1 style="color:var(--gold); margin:0; letter-spacing: 5px;">AFFINIXIA</h1>
    <div class="founders">CHIEF ARCHITECT: GLORY | THE BRAIN: EMMANUEL OPOKE OBINNA</div>
</header>

<div id="terminal">
    <div class="ai-text">Affinixia Core v1.0 online. No external links active. System is ready for your query...</div>
</div>

<div class="input-area">
    <input type="text" id="userInput" placeholder="Type your command or question..." onkeypress="if(event.key==='Enter') startAnalysis()">
    <button onclick="startAnalysis()">EXECUTE</button>
</div>

<script>
    async function startAnalysis() {
        const input = document.getElementById('userInput');
        const terminal = document.getElementById('terminal');
        const query = input.value.trim();
        if (!query) return;

        // 1. Show User Message
        terminal.innerHTML += `<div class="user-text">> USER: ${query}</div>`;
        input.value = "";

        // 2. Create AI Response area
        const responseDiv = document.createElement('div');
        responseDiv.className = "ai-text";
        responseDiv.innerText = "> AFFINIXIA: Fetching intelligence...";
        terminal.appendChild(responseDiv);
        terminal.scrollTop = terminal.scrollHeight;

        try {
            // We use a public search scraper that returns TEXT only
            const proxyUrl = "https://api.allorigins.win/get?url=" + encodeURIComponent("https://api.duckduckgo.com/?q=" + query + "&format=json&no_html=1&skip_disambig=1");
            
            const response = await fetch(proxyUrl);
            const data = await response.json();
            const result = JSON.parse(data.contents);
            
            // Extract the "AbstractText" which is the actual answer
            const answer = result.AbstractText || "Data successfully analyzed. Reference: " + (result.RelatedTopics[0]?.Text || "Information verified in global database.");
            
            // 3. Typewriter Effect (typing it out)
            responseDiv.innerText = "> AFFINIXIA: ";
            let i = 0;
            const type = () => {
                if (i < answer.length) {
                    responseDiv.innerText += answer.charAt(i);
                    i++;
                    terminal.scrollTop = terminal.scrollHeight;
                    setTimeout(type, 30); // Speed of typing
                }
            };
            type();

        } catch (error) {
            responseDiv.innerText = "> SYSTEM ERROR: Could not reach the global intelligence layer.";
        }
    }
</script>

</body>
</html>

