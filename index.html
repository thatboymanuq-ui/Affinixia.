<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFFINIXIA | Luxury AI Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --gold: #c5a059; --accent: #f9f6f0; --text: #222; --white: #ffffff; }
        * { box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; transition: all 0.3s ease; }
        body { margin: 0; background: #ffffff; color: var(--text); overflow-x: hidden; }

        /* --- NAVIGATION --- */
        nav { 
            padding: 20px 5%; display: flex; justify-content: space-between; align-items: center;
            background: var(--white); position: sticky; top: 0; z-index: 1000; border-bottom: 2px solid var(--accent);
        }
        .logo { font-weight: 800; font-size: 26px; letter-spacing: 5px; color: var(--gold); text-transform: uppercase; cursor: pointer; }
        .nav-right { display: flex; align-items: center; gap: 20px; }
        .cart-trigger { position: relative; cursor: pointer; color: var(--gold); font-size: 20px; }
        .cart-count { position: absolute; top: -8px; right: -10px; background: var(--text); color: white; font-size: 10px; padding: 2px 6px; border-radius: 50%; }

        /* --- CATEGORIES --- */
        .category-bar { background: var(--white); padding: 15px 5%; display: flex; justify-content: center; gap: 10px; overflow-x: auto; border-bottom: 1px solid var(--accent); }
        .cat-btn { background: var(--accent); border: none; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-size: 11px; font-weight: 700; text-transform: uppercase; }
        .cat-btn.active { background: var(--gold); color: white; }

        /* --- GRID --- */
        .main-container { max-width: 1400px; margin: 30px auto; padding: 0 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .card { background: var(--white); border-radius: 15px; padding: 20px; border: 1px solid var(--accent); display: flex; flex-direction: column; justify-content: space-between; }
        .card img { width: 100%; height: 200px; object-fit: contain; margin-bottom: 15px; }
        .card-price { font-size: 22px; color: var(--gold); font-weight: 800; margin-bottom: 15px; }
        .btn-add { width: 100%; padding: 14px; border: none; background: var(--text); color: white; border-radius: 10px; font-weight: 700; cursor: pointer; text-transform: uppercase; font-size: 12px; }

        /* --- SHOPPING BAG PANEL --- */
        #cart-panel { position: fixed; right: -350px; top: 0; width: 320px; height: 100%; background: white; z-index: 2000; box-shadow: -5px 0 20px rgba(0,0,0,0.05); padding: 30px 20px; display: flex; flex-direction: column; }
        #cart-panel.open { right: 0; }
        .cart-items { flex: 1; overflow-y: auto; margin-top: 20px; }
        .cart-item { display: flex; gap: 10px; padding: 10px 0; border-bottom: 1px solid var(--accent); font-size: 13px; }

        /* --- AI CHATBOT (CTA) --- */
        #ai-trigger { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; z-index: 3000; box-shadow: 0 5px 15px rgba(197,160,89,0.4); }
        #ai-chat { position: fixed; bottom: 100px; right: 30px; width: 300px; height: 400px; background: white; border: 1px solid var(--accent); border-radius: 20px; display: none; flex-direction: column; z-index: 3000; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .chat-header { background: var(--gold); color: white; padding: 15px; border-radius: 20px 20px 0 0; font-weight: 800; font-size: 12px; }
        .chat-logs { flex: 1; padding: 15px; overflow-y: auto; font-size: 13px; display: flex; flex-direction: column; gap: 10px; }
        .chat-input { padding: 10px; border-top: 1px solid var(--accent); display: flex; }
        .chat-input input { flex: 1; border: none; outline: none; padding: 10px; }

        /* --- FOOTER --- */
        footer { padding: 60px 20px; text-align: center; border-top: 2px solid var(--accent); background: var(--accent); }
        .social-links { display: flex; justify-content: center; gap: 20px; margin: 20px 0; }
        .social-links a { color: var(--gold); font-size: 20px; }

        @media (max-width: 768px) { .grid { grid-template-columns: 1fr 1fr; gap: 10px; } .card { padding: 12px; } .card img { height: 130px; } }
    </style>
</head>
<body>

<nav>
    <div class="logo" onclick="location.reload()">AFFINIXIA</div>
    <div class="nav-right">
        <div class="cart-trigger" onclick="toggleCart()">
            <i class="fa-solid fa-bag-shopping"></i>
            <span class="cart-count" id="cart-count">0</span>
        </div>
    </div>
</nav>

<div class="category-bar">
    <button class="cat-btn active" onclick="filter('all', this)">All</button>
    <button class="cat-btn" onclick="filter('smartphones', this)">Phones</button>
    <button class="cat-btn" onclick="filter('laptops', this)">Laptops</button>
    <button class="cat-btn" onclick="filter('mens-watches', this)">Watches</button>
    <button class="cat-btn" onclick="filter('fragrances', this)">Scent</button>
</div>

<main class="main-container">
    <div class="grid" id="main-grid"></div>
</main>

<div id="cart-panel">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2 style="font-size:18px; margin:0;">Shopping Bag</h2>
        <i class="fa-solid fa-times" style="cursor:pointer" onclick="toggleCart()"></i>
    </div>
    <div class="cart-items" id="cart-list"></div>
    <button class="btn-add" style="margin-top:20px; background:var(--gold);" onclick="checkout()">Checkout Now</button>
</div>

<div id="ai-trigger" onclick="toggleChat()">
    <i class="fa-solid fa-robot"></i>
</div>
<div id="ai-chat">
    <div class="chat-header">AFFINIXIA NEURAL ASSISTANT</div>
    <div class="chat-logs" id="chat-logs">
        <div style="background:var(--accent); padding:10px; border-radius:10px;">Welcome. I am the Affinixia AI. Type "search [item]" or "add [item]" to begin.</div>
    </div>
    <div class="chat-input">
        <input type="text" id="chat-in" placeholder="Ask Affinixia AI..." onkeypress="if(event.key==='Enter') handleChat()">
    </div>
</div>

<footer>
    <span style="font-weight:800; color:var(--gold); letter-spacing:5px;">AFFINIXIA</span>
    <div class="social-links">
        <a href="https://instagram.com/affinixia_official" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="https://wa.me/2347046239741" target="_blank"><i class="fab fa-whatsapp"></i></a>
    </div>
    <div style="font-size:10px; color:#888;">
        ARCHITECTS: <b>MANUFOR GLORY & EMMANUEL OPOKE OBINNA</b><br>
        &copy; 2025 AFFINIXIA GLOBAL
    </div>
</footer>

<script>
    let products = [];
    let cart = [];

    async function init() {
        const res = await fetch('https://dummyjson.com/products?limit=100');
        const data = await res.json();
        products = data.products;
        render(products);
    }

    function render(list) {
        const grid = document.getElementById('main-grid');
        grid.innerHTML = list.map(p => `
            <div class="card">
                <img src="${p.thumbnail}">
                <div style="font-size:14px; font-weight:600; height:35px; overflow:hidden;">${p.title}</div>
                <div class="card-price">$${p.price}</div>
                <button class="btn-add" onclick="addToCart(${p.id})">Add to Bag</button>
            </div>
        `).join('');
    }

    function addToCart(id) {
        const p = products.find(x => x.id === id);
        cart.push(p);
        updateCart();
        toggleCart(true);
    }

    function updateCart() {
        document.getElementById('cart-count').innerText = cart.length;
        const list = document.getElementById('cart-list');
        list.innerHTML = cart.map((p, i) => `
            <div class="cart-item">
                <img src="${p.thumbnail}" width="40">
                <div style="flex:1">${p.title}</div>
                <div style="font-weight:800">$${p.price}</div>
            </div>
        `).join('');
    }

    function toggleCart(open = false) {
        const p = document.getElementById('cart-panel');
        if(open) p.classList.add('open');
        else p.classList.toggle('open');
    }

    function filter(slug, btn) {
        document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        render(slug === 'all' ? products : products.filter(p => p.category === slug));
    }

    function toggleChat() {
        const chat = document.getElementById('ai-chat');
        chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
    }

    function handleChat() {
        const input = document.getElementById('chat-in');
        const logs = document.getElementById('chat-logs');
        const val = input.value.toLowerCase();
        logs.innerHTML += `<div style="text-align:right; color:var(--gold);">You: ${val}</div>`;
        
        if(val.includes("search")) {
            const term = val.split(" ").pop();
            const results = products.filter(p => p.title.toLowerCase().includes(term));
            render(results);
            logs.innerHTML += `<div style="background:var(--accent); padding:10px; border-radius:10px;">AI: Found ${results.length} items for "${term}".</div>`;
        } else {
            logs.innerHTML += `<div style="background:var(--accent); padding:10px; border-radius:10px;">AI: I am searching for elite assets. Try typing "search watch".</div>`;
        }
        input.value = "";
        logs.scrollTop = logs.scrollHeight;
    }

    function checkout() {
        if(cart.length === 0) return alert("Bag is empty");
        alert("AI Payment Secure. Transaction Complete.");
        cart = [];
        updateCart();
        toggleCart();
    }

    init();
</script>
</body>
</html>

