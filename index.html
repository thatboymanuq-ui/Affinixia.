
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFFINIXIA | AI Sovereign Hub</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --gold: #c5a059; --dark: #050505; --white: #ffffff; }
        * { box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; transition: all 0.3s ease; }
        body { margin: 0; background: #050505; color: white; overflow-x: hidden; scroll-behavior: smooth; }

        /* --- HEADER --- */
        nav { 
            padding: 20px 5%; display: flex; justify-content: space-between; align-items: center;
            background: rgba(0,0,0,0.95); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000;
            border-bottom: 1px solid rgba(197, 160, 89, 0.3);
        }
        .logo { font-weight: 800; font-size: 24px; letter-spacing: 5px; color: var(--gold); text-transform: uppercase; cursor: pointer; }

        /* --- AI SEARCH HERO --- */
        .ai-hero { 
            padding: 100px 20px; text-align: center;
            background: radial-gradient(circle at center, #111 0%, #050505 100%);
        }
        .ai-box {
            width: 100%; max-width: 600px; background: rgba(255,255,255,0.05); border: 1px solid var(--gold);
            padding: 10px 20px; border-radius: 50px; display: flex; align-items: center; margin: 30px auto;
        }
        .ai-box input { flex: 1; background: transparent; border: none; color: white; font-size: 18px; outline: none; padding: 10px; }
        .ai-box button { background: var(--gold); border: none; padding: 12px 25px; border-radius: 50px; font-weight: 800; cursor: pointer; }

        /* --- ADVENT CALENDAR --- */
        .advent-container { max-width: 1200px; margin: 0 auto 50px; padding: 0 20px; text-align: center; }
        .advent-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); gap: 10px; margin-top: 20px; }
        .door { aspect-ratio: 1; background: #111; border: 1px solid #222; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-weight: 800; font-size: 14px; }
        .door.open { background: var(--gold); color: black; border-color: white; }

        /* --- PRODUCT GRID (SIDE BY SIDE) --- */
        .manifest-area { max-width: 1400px; margin: 50px auto; padding: 0 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .card { background: #0e0e0e; border-radius: 20px; padding: 20px; border: 1px solid #1a1a1a; display: flex; flex-direction: column; }
        .card img { width: 100%; height: 220px; object-fit: contain; border-radius: 12px; margin-bottom: 15px; }
        .card-price { font-size: 24px; color: var(--gold); font-weight: 800; margin-bottom: 15px; }
        .btn-ai { width: 100%; padding: 15px; border: 1px solid var(--gold); background: transparent; color: var(--gold); border-radius: 12px; font-weight: 800; cursor: pointer; }
        .btn-ai:hover { background: var(--gold); color: black; }

        /* --- FLOATING AI CHATBOT (CTA) --- */
        #ai-bot {
            position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px;
            background: var(--gold); border-radius: 50%; display: flex; align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 0 0 20px rgba(197, 160, 89, 0.5); z-index: 2000;
        }
        #chat-window {
            position: fixed; bottom: 100px; right: 30px; width: 320px; background: #111;
            border: 1px solid var(--gold); border-radius: 20px; display: none; flex-direction: column; z-index: 2000;
        }
        .chat-header { padding: 15px; border-bottom: 1px solid #222; font-weight: 800; color: var(--gold); font-size: 12px; }
        .chat-body { height: 300px; padding: 15px; overflow-y: auto; font-size: 13px; color: #ccc; }
        .chat-input { padding: 10px; display: flex; gap: 5px; }
        .chat-input input { flex: 1; background: #222; border: none; color: white; padding: 8px; border-radius: 5px; }

        /* --- CENTERED FOOTER --- */
        footer { padding: 60px 20px; text-align: center; border-top: 1px solid #222; margin-top: 100px; }
        
        /* --- AI GATEWAY MODAL --- */
        #gate { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 9999; flex-direction: column; align-items: center; justify-content: center; }
        .spinner { width: 60px; height: 60px; border: 4px solid #111; border-top: 4px solid var(--gold); border-radius: 50%; animation: spin 1s infinite linear; }
        @keyframes spin { to { transform: rotate(360deg); } }

        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr 1fr; gap: 10px; }
            .card { padding: 10px; }
            .card img { height: 140px; }
            .card-price { font-size: 18px; }
        }
    </style>
</head>
<body>

<div id="gate">
    <div class="spinner"></div>
    <h2 id="gate-text" style="color: var(--gold); margin-top: 20px; letter-spacing: 4px;">INITIALIZING AI PAYMENT...</h2>
</div>

<nav>
    <div class="logo" onclick="location.reload()">AFFINIXIA</div>
    <div id="status" style="font-size: 10px; color: var(--gold); font-weight: 800;">‚óè AI ACTIVE</div>
</nav>

<div class="ai-hero">
    <h1 style="font-weight: 300; font-size: 36px;">Talk to <span style="color: var(--gold)">Affinixia</span></h1>
    <div class="ai-box">
        <input type="text" id="main-search" placeholder="What asset are you looking for?">
        <button onclick="aiSearch()">MANIFEST</button>
    </div>
</div>

<div class="advent-container">
    <p style="font-size: 10px; letter-spacing: 3px; color: var(--gold);">DECEMBER REWARDS</p>
    <div class="advent-grid" id="advent"></div>
</div>

<main class="manifest-area">
    <div class="grid" id="main-grid"></div>
</main>

<div id="ai-bot" onclick="toggleChat()">
    <span class="material-icons" style="color: black;">smart_toy</span>
</div>

<div id="chat-window">
    <div class="chat-header">AFFINIXIA NEURAL LINK</div>
    <div class="chat-body" id="chat-logs">
        <div>Hello. I am the Affinixia AI. Type "buy [item name]" or "search [item]" to begin.</div>
    </div>
    <div class="chat-input">
        <input type="text" id="chat-in" placeholder="Command AI...">
        <button onclick="handleChat()" style="background: var(--gold); border:none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">GO</button>
    </div>
</div>

<footer>
    <div style="font-weight: 800; color: var(--gold); letter-spacing: 5px; margin-bottom: 20px;">AFFINIXIA</div>
    <p style="color: #666; font-size: 12px; line-height: 2;">
        Engineered for Excellence by<br>
        <b>MANUFOR GLORY & EMMANUEL OPOKE OBINNA</b><br>
        &copy; 2025 AI SOVEREIGN TECH
    </p>
</footer>

<script>
    let products = [];

    // 1. Core Start
    async function init() {
        const res = await fetch('https://dummyjson.com/products?limit=100');
        const data = await res.json();
        products = data.products;
        render(products.slice(0, 10));
        buildAdvent();
    }

    function render(list) {
        const grid = document.getElementById('main-grid');
        grid.innerHTML = list.map(p => `
            <div class="card">
                <img src="${p.thumbnail}">
                <div style="height:40px; font-weight:700; font-size:14px;">${p.title}</div>
                <div class="card-price">$${p.price}</div>
                <button class="btn-ai" onclick="startAIPayment('${p.title}')">AI ACQUISITION</button>
            </div>
        `).join('');
    }

    // 2. AI Search Function
    function aiSearch() {
        const q = document.getElementById('main-search').value.toLowerCase();
        const filtered = products.filter(p => p.title.toLowerCase().includes(q) || p.category.toLowerCase().includes(q));
        render(filtered);
        window.scrollTo(0, 600);
    }

    // 3. AI Payment Gateway (The fix for "AI not working")
    function startAIPayment(itemName) {
        const gate = document.getElementById('gate');
        const gateText = document.getElementById('gate-text');
        gate.style.display = 'flex';
        
        setTimeout(() => { gateText.innerText = "NEURAL FRAUD VERIFICATION..."; }, 1500);
        setTimeout(() => { gateText.innerText = `AUTHENTICATING TRANSACTION FOR ${itemName.toUpperCase()}...`; }, 3000);
        setTimeout(() => {
            gate.style.display = 'none';
            gateText.innerText = "INITIALIZING AI PAYMENT...";
            alert(`SUCCESS: ${itemName} has been securely acquired via AI Protocol.`);
        }, 5000);
    }

    // 4. Advent Calendar
    function buildAdvent() {
        const grid = document.getElementById('advent');
        for(let i=1; i<=24; i++) {
            const d = document.createElement('div');
            d.className = 'door';
            d.innerText = i;
            d.onclick = function() { 
                this.classList.add('open'); 
                this.innerText = 'üéÅ';
                alert(`Advent Day ${i}: AI Gift Unlocked! Code: GOLDEN${i}`);
            };
            grid.appendChild(d);
        }
    }

    // 5. Chatbot Interface (CTA)
    function toggleChat() {
        const win = document.getElementById('chat-window');
        win.style.display = win.style.display === 'flex' ? 'none' : 'flex';
    }

    function handleChat() {
        const input = document.getElementById('chat-in');
        const logs = document.getElementById('chat-logs');
        const val = input.value.toLowerCase();
        
        logs.innerHTML += `<div style="color:var(--gold); margin-top:10px;">User: ${val}</div>`;

        if(val.includes("buy")) {
            logs.innerHTML += `<div>AI: Initiating acquisition protocol... Check your screen.</div>`;
            startAIPayment(val.replace("buy", ""));
        } else if(val.includes("search") || val.includes("show")) {
            const term = val.split(" ").pop();
            const results = products.filter(p => p.title.toLowerCase().includes(term));
            render(results);
            logs.innerHTML += `<div>AI: Manifested ${results.length} results for ${term}.</div>`;
        } else {
            logs.innerHTML += `<div>AI: Command not recognized. Try "search watch" or "buy iPhone".</div>`;
        }
        input.value = "";
        logs.scrollTop = logs.scrollHeight;
    }

    init();
</script>

</body>
</html>
